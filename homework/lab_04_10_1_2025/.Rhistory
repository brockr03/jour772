knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# load your packages
install.packages(tidyverse, lubridate, refinr, janitor)
# Turn off scientific notation
options(scipen=999)
# load your packages
install.packages(tidyverse, lubridate, refinr and janitor)
# Turn off scientific notation
options(scipen=999)
# load your packages
install.packages(tidyverse, lubridate, refinrjanitor)
# Turn off scientific notation
options(scipen=999)
# load your packages
install.packages(tidyverse, lubridate, refinr, janitor)
# Turn off scientific notation
options(scipen=999)
# load your packages
library(tidyverse, lubridate, refinr, janitor)
# Turn off scientific notation
options(scipen=999)
# load your packages
library(tidyverse)
library(lubridate)
library(refinr)
library(janitor)
#maryland expenses csv file
md_expenses <- read_csv("/data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
#maryland expenses csv file
md_expenses <- read_csv(""~/Downloads/pre_lab_04_9_28_2025/data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv"")
#maryland expenses csv file
md_expenses <- read_csv("/data/maryland_expenses.csv")
#maryland expenses csv file
md_expenses <- read_csv("maryland_expenses.csv")
#maryland expenses csv file
md_expenses <- read_csv("~/Desktop/jour772/homework/lab_04_10_1_2025/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv)
#maryland expenses csv file
md_expenses <- read_csv("data/~/Desktop/jour772/homework/lab_04_10_1_2025/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
library(readr)
State_of_Maryland_Grant_and_Loan_Data_FY2009_to_FY2022_20250115 <- read_csv("State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
View(State_of_Maryland_Grant_and_Loan_Data_FY2009_to_FY2022_20250115)
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
knitr::opts_chunk$set(echo = TRUE)
# Turn off scientific notation
options(scipen=999)
# load your packages
library(tidyverse)
library(lubridate)
library(refinr)
library(janitor)
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data_FY2009_to_FY2022_20250115.csv")
#maryland expenses csv file
md_expenses <- read_csv("/data/State_of_Maryland_Grant_and_Loan_Data_FY2009_to_FY2022_20250115.csv")
#maryland expenses csv file
md_expenses <- read_csv("/data/State_of_Maryland_Grant_and_Loan_Data_FY2009_to_FY2022_20250115.csv")
getwd()
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
md_expenses %>%
clean_names()
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
md_expenses %>%
clean_names()
maryland_expenses |>
mutate(month = floor_date(expenditure_date, "month")) |>
group_by(month) |>
summarise(total_amount = sum(amount)) |>
arrange(desc(total_amount))
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
md_expenses %>%
clean_names()
md_expenses |>
mutate(month = floor_date(expenditure_date, "month")) |>
group_by(month) |>
summarise(total_amount = sum(amount)) |>
arrange(desc(total_amount))
View(md_expenses)
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
md_expenses %>%
clean_names()
md_expenses |>
mutate(month = floor_date(Date, "month")) |>
group_by(month) |>
summarise(total_amount = sum(amount)) |>
arrange(desc(total_amount))
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
md_expenses %>%
clean_names()
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
cleaned_md_expenses <- md_expenses %>%
clean_names()
View(cleaned_md_expenses)
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
cleaned_md_expenses <- md_expenses %>%
clean_names()
cleaned_md_expenses |>
mutate(month = floor_date(date))
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
cleaned_md_expenses <- md_expenses %>%
clean_names()
cleaned_md_expenses |>
mutate(month = lubridate::floor_date(date, unit = "month")) |>
group_by(month) |>
summarise(total_amount = sum(amount, na.rm = TRUE)) |>
arrange(desc(total_amount))
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
cleaned_md_expenses <- md_expenses %>%
clean_names()
maryland_expenses |>
mutate(month = floor_date(expenditure_date, "month")) |>
group_by(month) |>
summarise(total_amount = sum(amount)) |>
arrange(desc(total_amount))
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
cleaned_md_expenses <- md_expenses %>%
clean_names()
View(cleaned_md_expenses)
View(md_expenses)
#maryland expenses csv file
md_expenses <- read_csv("data/State_of_Maryland_Grant_and_Loan_Data__FY2009_to_FY2022_20250115.csv")
cleaned_md_expenses <- md_expenses %>%
clean_names()
maryland_expenses <- cleaned_md_expenses |> mutate(expenditure_date=mdy(date))
media_category <- maryland_expenses |> filter(category == "Media")
head(media_category)
View(maryland_expenses)
#maryland expenses csv file
md_expenses <- read_csv("data/maryland_expenses.csv")
#maryland expenses csv file
md_expenses <- read_csv("data/maryland_expenses.csv") |>
clean_names()
View(md_expenses)
View(cleaned_md_expenses)
View(md_expenses)
media_category <- maryland_expenses |> filter(category == "Media")
media_category <- md_expenses |> filter(category == "Media")
media_category <- md_expenses |> filter(expense_category == "Media")
head(media_category)
View(media_category)
media_category <- md_expenses |> filter(expense_category == "Media")
head(media_category) |>
cleaned_media_category <- md_expenses |>
mutate(payee_clean=n_gram_merge(payee_name)) |>
cleaned_md_grant_loans
media_category <- md_expenses |> filter(expense_category == "Media")
head(media_category) |>
cleaned_media_category <- md_expenses |>
mutate(payee_clean=n_gram_merge(payee_name)) |>
cleaned_md_grant_loans
media_category <- md_expenses |> filter(expense_category == "Media")
head(media_category) |>
cleaned_media_category <- md_expenses |>
mutate(payee_clean=n_gram_merge(payee_name)) |>
cleaned_md_grant_loans
media_category <- md_expenses |> filter(expense_category == "Media")
head(media_category) |>
cleaned_media_category <- md_expenses |>
mutate(payee_clean=n_gram_merge(payee_name)) |>
cleaned_media_category
media_category <- md_expenses |> filter(expense_category == "Media")
head(media_category)
cleaned_media_category <- md_expenses |>
mutate(payee_clean=n_gram_merge(payee_name)) |>
cleaned_media_category
media_category <- md_expenses |> filter(expense_category == "Media")
head(media_category)
cleaned_media_category <- md_expenses |>
mutate(payee_clean=n_gram_merge(payee_name)) |>
select(payee_name, payee_clean, everything ())
View(cleaned_media_category)
expenses_summary <- cleaned_media_category |>
mutate(
payee_FB = case_when(
str_detect(payee_clean, " Facebook ") ~ "Meta",
str_detect(payee_clean, " Meta ") ~ "Meta",
str_detect(address, " Facebook/Meta ") ~ "Meta",
str_detect(address, " Meta Platforms Inc. ") ~ "Meta",
.default = NA
)
)
View(expenses_summary)
View(cleaned_media_category)
View(md_expenses)
expenses_summary <- cleaned_media_category |>
mutate(
payee_FB = case_when(
str_detect(payee_clean, " Facebook ") ~ "Meta",
str_detect(payee_clean, " Meta ") ~ "Meta",
str_detect(payee_clean, " Facebook/Meta ") ~ "Meta",
str_detect(payee_clean, " Meta Platforms Inc. ") ~ "Meta",
.default = NA
)
)
View(expenses_summary)
